(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["notesList"],{"049e":function(e,t,o){"use strict";o.r(t);var n=o("7a23"),a={class:"NotesList"},c=Object(n["g"])("h1",null,"Заметки",-1),l={class:"NotesList-Buttons"},i={key:0,class:"NotesList-Notes"},r={key:1,class:"NotesList-Notes"};function u(e,t,o,u,s,d){var f=Object(n["D"])("yuv-button"),v=Object(n["D"])("one-note"),b=Object(n["D"])("note-form");return Object(n["v"])(),Object(n["f"])(n["a"],null,[Object(n["g"])("div",a,[c,Object(n["g"])("div",l,[Object(n["i"])(f,{name:"Создать заметку","left-icon":"plus",fun:u.CreateNote},null,8,["fun"])]),u.notes.length?(Object(n["v"])(),Object(n["f"])("div",i,[(Object(n["v"])(!0),Object(n["f"])(n["a"],null,Object(n["B"])(u.notes,(function(e){return Object(n["v"])(),Object(n["d"])(v,{key:e._id,note:e,onEditNote:u.EditNote,onDelNote:u.DelNote},null,8,["note","onEditNote","onDelNote"])})),128))])):(Object(n["v"])(),Object(n["f"])("div",r,' У вас нет заметок. Нажмите "Создать заметку" что бы добавить новую заметку '))]),Object(n["i"])(b,{ref:"NoteForm",data:u.dataForForm,onSaveData:u.SaveNote},null,8,["data","onSaveData"])],64)}o("b0c0");var s={class:"OneNote-Actions"},d={class:"OneNote-Header"},f={class:"OneNote-Body"};function v(e,t,o,a,c,l){return Object(n["v"])(),Object(n["f"])("div",{class:"OneNote",style:Object(n["p"])({backgroundColor:o.note.color.val})},[Object(n["g"])("div",s,[Object(n["g"])("span",{class:"OneNote-Button icon icon-edit",onClick:t[0]||(t[0]=function(e){return a.edit(o.note._id)})}),Object(n["g"])("span",{class:"OneNote-Button icon icon-trash",onClick:t[1]||(t[1]=function(e){return a.del(o.note._id)})})]),Object(n["g"])("p",d,Object(n["F"])(o.note.name.val),1),Object(n["g"])("pre",f,"      "+Object(n["F"])(o.note.body.val)+"\r\n    ",1)],4)}var b={name:"one-note",props:["note"],setup:function(e,t){var o=t.emit,n=function(e){o("EditNote",e)},a=function(e){o("DelNote",e)};return{edit:n,del:a}}},m=(o("7169"),o("6b0d")),O=o.n(m);const N=O()(b,[["render",v]]);var j=N,p={key:0,class:"NoteForm"},g={class:"NoteForm-Content"},F={class:"NoteForm-Inputs"},y=Object(n["g"])("h2",{class:"NoteForm-Header"},"Работа с заметкой",-1),h={class:"NoteForm-Buttons"};function S(e,t,o,a,c,l){var i=Object(n["D"])("yuv-select"),r=Object(n["D"])("yuv-input"),u=Object(n["D"])("yuv-textarea"),s=Object(n["D"])("yuv-button");return a.flagNoteFormOpen?(Object(n["v"])(),Object(n["f"])("div",p,[Object(n["g"])("div",g,[Object(n["g"])("div",{class:"NoteForm-ColorNote",style:Object(n["p"])("background-color: ".concat(a.dataInForm.color.val))}," Цвет заметки ",4),Object(n["g"])("div",F,[y,Object(n["i"])(i,{class:"NoteForm-Input",label:"Выберите цвет",id:"color",options:a.colors,modelValue:a.dataInForm.color.val,"onUpdate:modelValue":t[0]||(t[0]=function(e){return a.dataInForm.color.val=e})},null,8,["options","modelValue"]),Object(n["i"])(r,{class:"NoteForm-Input",id:"nameNote",label:"Заголовок",modelValue:a.dataInForm.name.val,"onUpdate:modelValue":t[1]||(t[1]=function(e){return a.dataInForm.name.val=e})},null,8,["modelValue"]),Object(n["i"])(u,{class:"NoteForm-Input",id:"bodyNote",label:"Заметка",modelValue:a.dataInForm.body.val,"onUpdate:modelValue":t[2]||(t[2]=function(e){return a.dataInForm.body.val=e})},null,8,["modelValue"]),Object(n["g"])("div",h,[Object(n["i"])(s,{name:"Сохранить",fun:a.save},null,8,["fun"]),Object(n["i"])(s,{name:"Отмена",fun:a.cancel},null,8,["fun"])])])])])):Object(n["e"])("",!0)}var D=o("5502"),k="",G={name:"note-form",props:["data"],setup:function(e,t){var o=t.emit,a=Object(D["b"])(),c=[{id:"#ff8080",name:"Красный"},{id:"#f2c94c",name:"Оранжевый"},{id:"#27ae60",name:"Зеленый"}],l=Object(n["A"])(!1),i=function(e){k=e,l.value=!0},r=function(){l.value=!1,k=""},u=Object(n["A"])(""),s=function(){u.value.body.val||u.value.name.val?(o("SaveData",{data:u,flagActions:k}),r()):a.commit("SetNotification",{header:"Ошибка",body:"Заполнены не все поля",flag:!0,status:"error",duration:5e3})},d=function(){u.value="",r()};return Object(n["J"])((function(){return e.data}),(function(e){u.value=e})),{colors:c,flagNoteFormOpen:l,onOpen:i,onClose:r,dataInForm:u,save:s,cancel:d}}};o("175f");const I=O()(G,[["render",S]]);var A=I;o("d3b7");function C(){var e=Object(D["b"])(),t=Object(n["A"])("");return Object(n["t"])((function(){e.commit("SetGloaderFlag",!0),e.dispatch("apiGetNotes",{listName:e.getters.GetUserName}).then((function(e){t.value=e.payload})).finally((function(){e.commit("SetGloaderFlag",!1)}))})),{notes:t}}o("e9c4");function w(e,t){var o=Object(D["b"])(),a=Object(n["A"])(""),c=function(){console.log("Создать заметку"),a.value={color:{type:"String",val:""},name:{type:"String",val:""},body:{type:"String",val:""}},t.value.onOpen("create")},l=function(t){o.commit("SetGloaderFlag",!0),o.dispatch("apiEditNote",{listName:o.getters.GetUserName,note:t.value}).then((function(n){o.commit("SetNotification",{header:"Успех",body:n.payload,flag:!0,status:"success",duration:5e3});for(var a=0;a<e.value.length;a++)if(e.value[a]._id===t.value._id){e.value[a]=t.value;break}})).finally((function(){o.commit("SetGloaderFlag",!1)}))},i=function(t){o.commit("SetGloaderFlag",!0),o.dispatch("apiNewNote",{listName:o.getters.GetUserName,note:t.value}).then((function(t){e.value.push(t.payload[0])})).finally((function(){o.commit("SetGloaderFlag",!1)}))},r=function(e){"edit"===e.flagActions?l(e.data):"create"===e.flagActions&&i(e.data)},u=function(o){for(var n=0;n<e.value.length;n++)if(e.value[n]._id===o){a.value=JSON.parse(JSON.stringify(e.value[n]));break}t.value.onOpen("edit")};return{dataForForm:a,CreateNote:c,SaveNote:r,EditNote:u}}o("a434");function E(e){var t=Object(D["b"])(),o=function(o){t.commit("SetGloaderFlag",!0),t.dispatch("apiDeleteNote",{listName:t.getters.GetUserName,noteId:o}).then((function(n){console.log(n),t.commit("SetNotification",{header:"Успех",body:n.payload,flag:!0,status:"success",duration:5e3});for(var a=0;a<e.value.length;a++)if(e.value[a]._id===o){e.value.splice(a,1);break}})).finally((function(){t.commit("SetGloaderFlag",!1)}))};return{DelNote:o}}var V={name:"notes-list",components:{OneNote:j,NoteForm:A},setup:function(){var e=Object(n["A"])(null),t=C(),o=t.notes,a=w(o,e),c=a.SaveNote,l=a.EditNote,i=a.dataForForm,r=a.CreateNote,u=E(o),s=u.DelNote;return{CreateNote:r,notes:o,NoteForm:e,dataForForm:i,SaveNote:c,EditNote:l,DelNote:s}}};o("ad4f");const U=O()(V,[["render",u]]);t["default"]=U},"175f":function(e,t,o){"use strict";o("8690")},7169:function(e,t,o){"use strict";o("b57e")},8690:function(e,t,o){},a434:function(e,t,o){"use strict";var n=o("23e7"),a=o("da84"),c=o("23cb"),l=o("5926"),i=o("07fa"),r=o("7b0b"),u=o("65f0"),s=o("8418"),d=o("1dde"),f=d("splice"),v=a.TypeError,b=Math.max,m=Math.min,O=9007199254740991,N="Maximum allowed length exceeded";n({target:"Array",proto:!0,forced:!f},{splice:function(e,t){var o,n,a,d,f,j,p=r(this),g=i(p),F=c(e,g),y=arguments.length;if(0===y?o=n=0:1===y?(o=0,n=g-F):(o=y-2,n=m(b(l(t),0),g-F)),g+o-n>O)throw v(N);for(a=u(p,n),d=0;d<n;d++)f=F+d,f in p&&s(a,d,p[f]);if(a.length=n,o<n){for(d=F;d<g-n;d++)f=d+n,j=d+o,f in p?p[j]=p[f]:delete p[j];for(d=g;d>g-n+o;d--)delete p[d-1]}else if(o>n)for(d=g-n;d>F;d--)f=d+n-1,j=d+o-1,f in p?p[j]=p[f]:delete p[j];for(d=0;d<o;d++)p[d+F]=arguments[d+2];return p.length=g-n+o,a}})},ad4f:function(e,t,o){"use strict";o("f6ac")},b57e:function(e,t,o){},f6ac:function(e,t,o){}}]);
//# sourceMappingURL=notesList.js.map