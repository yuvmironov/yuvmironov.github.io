{"version":3,"sources":["webpack:///./src/Views/Mail/Mail.vue","webpack:///./src/Views/Mail/MainMail.js","webpack:///./src/Views/Mail/EditorConfiguration.js","webpack:///./src/Views/Mail/Mail.vue?f12a","webpack:///./src/Views/Mail/Mail.vue?3223"],"names":["class","_createElementVNode","_createElementBlock","_hoisted_2","_createVNode","_component_yuv_input","id","label","$setup","$event","type","_component_editor","api-key","cloud-channel","output-format","init","initial-value","_component_yuv_button","fun","MainMail","store","useStore","sender","ref","senderMail","getters","GetUserMail","recipient","subject","bodyMail","clearMail","value","sendMail","commit","dispatch","name","from","to","sub","html","then","response","console","log","header","body","payload","flag","status","duration","finally","EditorConfiguration","tinyInitConfig","width","height","document","clientHeight","plugins","toolbar","setup","__exports__","render"],"mappings":"qIACOA,MAAM,Q,EACTC,eAAuB,UAAnB,kBAAc,G,GAoCbD,MAAM,gB,4IArCbE,eAiDM,MAjDN,EAiDM,CAhDJC,EACAC,eAKEC,EAAA,CAJAL,MAAM,aACNM,GAAG,SACHC,MAAM,kB,WACGC,S,qDAAAA,SAAMC,KAJjB,uBAMAL,eAMEC,EAAA,CALAL,MAAM,aACNM,GAAG,aACHC,MAAM,UACNG,KAAK,Q,WACIF,a,qDAAAA,aAAUC,KALrB,uBAOAL,eAMEC,EAAA,CALAL,MAAM,aACNM,GAAG,YACHC,MAAM,aACNG,KAAK,Q,WACIF,Y,qDAAAA,YAASC,KALpB,uBAOAL,eAMEC,EAAA,CALAL,MAAM,aACNM,GAAG,YACHC,MAAM,YACNG,KAAK,O,WACIF,U,qDAAAA,UAAOC,KALlB,uBAOAL,eAOEO,EAAA,CANAC,UAAQ,mDACRC,gBAAc,IACdC,gBAAc,OACbC,KAAMP,iB,WACEA,W,qDAAAA,WAAQC,IAChBO,gBAAeR,YANlB,8CAQAP,eAWM,MAXN,EAWM,CAVJG,eAIEa,EAAA,CAHAjB,MAAM,cACNO,MAAM,YACLW,IAAKV,YAHR,gBAKAJ,eAIEa,EAAA,CAHAjB,MAAM,cACNO,MAAM,WACLW,IAAKV,aAHR,oB,0BCzCC,SAASW,IACd,IAAMC,EAAQC,iBACRC,EAASC,eAAI,IACbC,EAAaD,eAAIH,EAAMK,QAAQC,aAC/BC,EAAYJ,eAAI,IAChBK,EAAUL,eAAI,IACdM,EAAWN,eAAI,IAEfO,EAAY,WAChBR,EAAOS,MAAQ,GACfH,EAAQG,MAAQ,GAChBJ,EAAUI,MAAQ,GAClBF,EAASE,MAAQ,IAGbC,EAAW,WACfZ,EAAMa,OAAO,kBAAkB,GAC/Bb,EAAMc,SAAS,iBAAkB,CAC/BC,KAAMb,EAAOS,MACbK,KAAMZ,EAAWO,MACjBM,GAAIV,EAAUI,MACdO,IAAKV,EAAQG,MACbQ,KAAMV,EAASE,QAEdS,MAAK,SAAAC,GACJC,QAAQC,IAAIF,GACZrB,EAAMa,OAAO,kBAAmB,CAC9BW,OAAQ,QACRC,KAAMJ,EAASK,QACfC,MAAM,EACNC,OAAQ,UACRC,SAAU,SAGbC,SAAQ,WACP9B,EAAMa,OAAO,kBAAkB,OAIrC,MAAO,CACLb,QACAE,SACAE,aACAG,YACAC,UACAC,WACAC,YACAE,YClDG,SAASmB,IACd,IAAMC,EAAiB,CACrBC,MAAO,OACPC,OAAQ,GAAF,OAAKC,SAASV,KAAKW,aAAe,IAAlC,MACNC,QAAS,mMAGTC,QAAS,kPAQTpD,GAAI,UACJ,eAAgB,mCAGlB,MAAO,CACL8C,kBFqCW,OACbjB,KAAM,OACNwB,MAFa,WAGX,MAAkFxC,IAA1EG,EAAR,EAAQA,OAAQE,EAAhB,EAAgBA,WAAYG,EAA5B,EAA4BA,UAAWC,EAAvC,EAAuCA,QAASC,EAAhD,EAAgDA,SAAUC,EAA1D,EAA0DA,UAAWE,EAArE,EAAqEA,SACrE,EAA2BmB,IAAnBC,EAAR,EAAQA,eAER,MAAO,CACL9B,SACAE,aACAG,YACAC,UACAC,WACAuB,iBACAtB,YACAE,c,iCGhEN,MAAM4B,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,KAErD,gB,kCCTf,W","file":"js/mailing.js","sourcesContent":["<template>\r\n  <div class=\"Mail\">\r\n    <h1>Отправка почты</h1>\r\n    <yuv-input\r\n      class=\"Mail-Input\"\r\n      id=\"Sender\"\r\n      label=\"Имя отправителя\"\r\n      v-model=\"sender\"\r\n    />\r\n    <yuv-input\r\n      class=\"Mail-Input\"\r\n      id=\"SenderMail\"\r\n      label=\"От кого\"\r\n      type=\"email\"\r\n      v-model=\"senderMail\"\r\n    />\r\n    <yuv-input\r\n      class=\"Mail-Input\"\r\n      id=\"Recipient\"\r\n      label=\"Получатель\"\r\n      type=\"email\"\r\n      v-model=\"recipient\"\r\n    />\r\n    <yuv-input\r\n      class=\"Mail-Input\"\r\n      id=\"Recipient\"\r\n      label=\"Заголовок\"\r\n      type=\"test\"\r\n      v-model=\"subject\"\r\n    />\r\n    <editor\r\n      api-key=\"iruikfet3r7sfm7pqjfnkn2io5ntkh89phqfpbgzkib6rl0i\"\r\n      cloud-channel='5'\r\n      output-format=\"html\"\r\n      :init=\"tinyInitConfig\"\r\n      v-model=\"bodyMail\"\r\n      :initial-value=\"bodyMail\"\r\n    />\r\n    <div class=\"Mail-Buttons\">\r\n      <yuv-button\r\n        class=\"Mail-Button\"\r\n        label=\"Отправить\"\r\n        :fun=\"sendMail\"\r\n      />\r\n      <yuv-button\r\n        class=\"Mail-Button\"\r\n        label=\"Очистить\"\r\n        :fun=\"clearMail\"\r\n      />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { MainMail } from '@/Views/Mail/MainMail'\r\nimport { EditorConfiguration } from '@/Views/Mail/EditorConfiguration'\r\n\r\nexport default {\r\n  name: 'mail',\r\n  setup () {\r\n    const { sender, senderMail, recipient, subject, bodyMail, clearMail, sendMail } = MainMail()\r\n    const { tinyInitConfig } = EditorConfiguration()\r\n\r\n    return {\r\n      sender,\r\n      senderMail,\r\n      recipient,\r\n      subject,\r\n      bodyMail,\r\n      tinyInitConfig,\r\n      clearMail,\r\n      sendMail\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"stylus\">\r\n.Mail\r\n  padding 10px\r\n  &-Input\r\n    &:not(:last-child)\r\n      margin-bottom 10px\r\n  &-Buttons\r\n    display flex\r\n  &-Button\r\n    &:not(:last-child)\r\n      margin-right 5px\r\n.tox-tinymce\r\n  margin-bottom 10px\r\n</style>\r\n","import { useStore } from 'vuex'\r\nimport { ref } from 'vue'\r\n\r\nexport function MainMail () {\r\n  const store = useStore()\r\n  const sender = ref('')\r\n  const senderMail = ref(store.getters.GetUserMail)\r\n  const recipient = ref('')\r\n  const subject = ref('')\r\n  const bodyMail = ref('')\r\n\r\n  const clearMail = () => {\r\n    sender.value = ''\r\n    subject.value = ''\r\n    recipient.value = ''\r\n    bodyMail.value = ''\r\n  }\r\n\r\n  const sendMail = () => {\r\n    store.commit('SetGloaderFlag', true)\r\n    store.dispatch('apiSendOneMail', {\r\n      name: sender.value,\r\n      from: senderMail.value,\r\n      to: recipient.value,\r\n      sub: subject.value,\r\n      html: bodyMail.value\r\n    })\r\n      .then(response => {\r\n        console.log(response)\r\n        store.commit('SetNotification', {\r\n          header: 'Успех',\r\n          body: response.payload,\r\n          flag: true,\r\n          status: 'success',\r\n          duration: 5000\r\n        })\r\n      })\r\n      .finally(() => {\r\n        store.commit('SetGloaderFlag', false)\r\n      })\r\n  }\r\n\r\n  return {\r\n    store,\r\n    sender,\r\n    senderMail,\r\n    recipient,\r\n    subject,\r\n    bodyMail,\r\n    clearMail,\r\n    sendMail\r\n  }\r\n}\r\n","export function EditorConfiguration () {\r\n  const tinyInitConfig = {\r\n    width: '100%',\r\n    height: `${document.body.clientHeight - 400}px`,\r\n    plugins: 'advlist autolink lists link image charmap print preview emoticons' +\r\n      ' insertdatetime preview anchor searchreplace visualblocks code fullscreen' +\r\n      ' insertdatetime media table paste imagetools wordcount',\r\n    toolbar: `\r\n        insertfile undo redo |\r\n        styleselect |\r\n        bold italic |\r\n        alignleft aligncenter alignright alignjustify |\r\n        bullist numlist outdent indent table|\r\n        link image insertdatetime |\r\n        fullscreen`,\r\n    id: 'mailing',\r\n    'model-events': 'change keydown blur focus paste'\r\n  }\r\n\r\n  return {\r\n    tinyInitConfig\r\n  }\r\n}\r\n","import { render } from \"./Mail.vue?vue&type=template&id=313d0810\"\nimport script from \"./Mail.vue?vue&type=script&lang=js\"\nexport * from \"./Mail.vue?vue&type=script&lang=js\"\n\nimport \"./Mail.vue?vue&type=style&index=0&id=313d0810&lang=stylus\"\n\nimport exportComponent from \"D:\\\\VueComposition\\\\app\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--12-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--12-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--12-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--12-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Mail.vue?vue&type=style&index=0&id=313d0810&lang=stylus\""],"sourceRoot":""}